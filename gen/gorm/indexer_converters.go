// Code generated by protoc-gen-dal-gorm. DO NOT EDIT.
package gorm

import (
	"github.com/panyam/protoc-gen-dal/pkg/converters"
	models "github.com/turnforge/weewar/gen/go/weewar/v1/models"
)

// IndexStateToIndexStateGORM converts a models.IndexState to IndexStateGORM.
// The optional decorator function allows custom field transformations.
func IndexStateToIndexStateGORM(
	src *models.IndexState,
	dest *IndexStateGORM,
	decorator func(*models.IndexState, *IndexStateGORM) error,
) (out *IndexStateGORM, err error) {
	if src == nil {
		return nil, nil
	}
	if dest == nil {
		dest = &IndexStateGORM{}
	}

	// Initialize struct with inline values
	*dest = IndexStateGORM{
		EntityType:     src.EntityType,
		EntityId:       src.EntityId,
		IndexType:      src.IndexType,
		NeedsIndexing:  src.NeedsIndexing,
		Status:         src.Status,
		LastError:      src.LastError,
		IdempotencyKey: src.IdempotencyKey,
		RetryCount:     src.RetryCount,
	}
	out = dest

	if src.CreatedAt != nil {
		out.CreatedAt = converters.TimestampToTime(src.CreatedAt)
	}
	if src.UpdatedAt != nil {
		out.UpdatedAt = converters.TimestampToTime(src.UpdatedAt)
	}
	if src.IndexedAt != nil {
		out.IndexedAt = converters.TimestampToTime(src.IndexedAt)
	}

	// Apply decorator if provided
	if decorator != nil {
		if err := decorator(src, dest); err != nil {
			return nil, err
		}
	}

	return dest, nil
}

// IndexStateFromIndexStateGORM converts a IndexStateGORM back to models.IndexState.
// The optional decorator function allows custom field transformations.
func IndexStateFromIndexStateGORM(
	dest *models.IndexState,
	src *IndexStateGORM,
	decorator func(dest *models.IndexState, src *IndexStateGORM) error,
) (out *models.IndexState, err error) {
	if src == nil {
		return nil, nil
	}
	if dest == nil {
		dest = &models.IndexState{}
	}

	// Initialize struct with inline values
	*dest = models.IndexState{
		EntityType:     src.EntityType,
		EntityId:       src.EntityId,
		IndexType:      src.IndexType,
		CreatedAt:      converters.TimeToTimestamp(src.CreatedAt),
		UpdatedAt:      converters.TimeToTimestamp(src.UpdatedAt),
		IndexedAt:      converters.TimeToTimestamp(src.IndexedAt),
		NeedsIndexing:  src.NeedsIndexing,
		Status:         src.Status,
		LastError:      src.LastError,
		IdempotencyKey: src.IdempotencyKey,
		RetryCount:     src.RetryCount,
	}
	out = dest

	// Apply decorator if provided
	if decorator != nil {
		if err := decorator(dest, src); err != nil {
			return nil, err
		}
	}

	return out, nil
}

// IndexRecordsLROToIndexRecordsLROGORM converts a models.IndexRecordsLRO to IndexRecordsLROGORM.
// The optional decorator function allows custom field transformations.
func IndexRecordsLROToIndexRecordsLROGORM(
	src *models.IndexRecordsLRO,
	dest *IndexRecordsLROGORM,
	decorator func(*models.IndexRecordsLRO, *IndexRecordsLROGORM) error,
) (out *IndexRecordsLROGORM, err error) {
	if src == nil {
		return nil, nil
	}
	if dest == nil {
		dest = &IndexRecordsLROGORM{}
	}

	// Initialize struct with inline values
	*dest = IndexRecordsLROGORM{
		LroId:       src.LroId,
		EntityType:  src.EntityType,
		CallbackUrl: src.CallbackUrl,
	}
	out = dest

	if src.CreatedAt != nil {
		out.CreatedAt = converters.TimestampToTime(src.CreatedAt)
	}
	if src.UpdatedAt != nil {
		out.UpdatedAt = converters.TimestampToTime(src.UpdatedAt)
	}

	// Apply decorator if provided
	if decorator != nil {
		if err := decorator(src, dest); err != nil {
			return nil, err
		}
	}

	return dest, nil
}

// IndexRecordsLROFromIndexRecordsLROGORM converts a IndexRecordsLROGORM back to models.IndexRecordsLRO.
// The optional decorator function allows custom field transformations.
func IndexRecordsLROFromIndexRecordsLROGORM(
	dest *models.IndexRecordsLRO,
	src *IndexRecordsLROGORM,
	decorator func(dest *models.IndexRecordsLRO, src *IndexRecordsLROGORM) error,
) (out *models.IndexRecordsLRO, err error) {
	if src == nil {
		return nil, nil
	}
	if dest == nil {
		dest = &models.IndexRecordsLRO{}
	}

	// Initialize struct with inline values
	*dest = models.IndexRecordsLRO{
		LroId:       src.LroId,
		EntityType:  src.EntityType,
		CreatedAt:   converters.TimeToTimestamp(src.CreatedAt),
		UpdatedAt:   converters.TimeToTimestamp(src.UpdatedAt),
		CallbackUrl: src.CallbackUrl,
	}
	out = dest

	// Apply decorator if provided
	if decorator != nil {
		if err := decorator(dest, src); err != nil {
			return nil, err
		}
	}

	return out, nil
}
