// Code generated by protoc-gen-dal-gorm. DO NOT EDIT.
package gorm

import (
	"database/sql/driver"
	"encoding/json"
	"fmt"
	"time"

	models "github.com/turnforge/weewar/gen/go/weewar/v1/models"
)

// IndexInfoGORM is the GORM model for weewar.v1.IndexInfo
type IndexInfoGORM struct {
	LastUpdatedAt time.Time
	LastIndexedAt time.Time
	NeedsIndexing bool
}

// TileGORM is the GORM model for weewar.v1.Tile
type TileGORM struct {
	Q                int32
	R                int32
	TileType         int32
	Player           int32
	Shortcut         string
	LastActedTurn    int32
	LastToppedupTurn int32
}

// Value implements driver.Valuer for TileGORM
func (m TileGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for TileGORM
func (m *TileGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan TileGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// CrossingGORM is the GORM model for weewar.v1.Crossing
type CrossingGORM struct {
	Type       models.CrossingType
	ConnectsTo []bool
}

// Value implements driver.Valuer for CrossingGORM
func (m CrossingGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for CrossingGORM
func (m *CrossingGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan CrossingGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// UnitGORM is the GORM model for weewar.v1.Unit
type UnitGORM struct {
	Q                       int32
	R                       int32
	Player                  int32
	UnitType                int32
	Shortcut                string
	AvailableHealth         int32
	DistanceLeft            float64
	LastActedTurn           int32
	LastToppedupTurn        int32
	AttacksReceivedThisTurn int32
	AttackHistory           []AttackRecordGORM
	ProgressionStep         int32
	ChosenAlternative       string
	CaptureStartedTurn      int32
}

// Value implements driver.Valuer for UnitGORM
func (m UnitGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for UnitGORM
func (m *UnitGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan UnitGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// AttackRecordGORM is the GORM model for weewar.v1.AttackRecord
type AttackRecordGORM struct {
	Q          int32
	R          int32
	IsRanged   bool
	TurnNumber int32
}

// Value implements driver.Valuer for AttackRecordGORM
func (m AttackRecordGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for AttackRecordGORM
func (m *AttackRecordGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan AttackRecordGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// WorldGORM is the GORM model for weewar.v1.World
type WorldGORM struct {
	CreatedAt         time.Time
	UpdatedAt         time.Time
	Version           int64
	Id                string `gorm:"primaryKey"`
	CreatorId         string
	Name              string
	Description       string
	Tags              []string `gorm:"serializer:json"`
	ImageUrl          string
	Difficulty        string
	PreviewUrls       []string `gorm:"serializer:json"`
	DefaultGameConfig GameConfigurationGORM
	SearchIndexInfo   IndexInfoGORM `gorm:"embedded;embeddedPrefix:search_index_"`
}

// TableName returns the table name for WorldGORM
func (*WorldGORM) TableName() string {
	return "worlds"
}

// WorldDataGORM is the GORM model for weewar.v1.WorldData
type WorldDataGORM struct {
	TilesMap            map[string]TileGORM `gorm:"serializer:json"`
	WorldId             string              `gorm:"primaryKey"`
	UnitsMap            map[string]UnitGORM `gorm:"serializer:json"`
	ScreenshotIndexInfo IndexInfoGORM       `gorm:"embedded;embeddedPrefix:screenshot_index_"`
	ContentHash         string
	Version             int64
	Crossings           map[string]CrossingGORM `gorm:"serializer:json"`
}

// TableName returns the table name for WorldDataGORM
func (*WorldDataGORM) TableName() string {
	return "world_data"
}

// Value implements driver.Valuer for WorldDataGORM
func (m WorldDataGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for WorldDataGORM
func (m *WorldDataGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan WorldDataGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// GameGORM is the GORM model for weewar.v1.Game
type GameGORM struct {
	CreatedAt       time.Time
	UpdatedAt       time.Time
	Version         int64
	Id              string `gorm:"primaryKey"`
	CreatorId       string
	WorldId         string
	Name            string
	Description     string
	Tags            []string `gorm:"serializer:json"`
	ImageUrl        string
	Difficulty      string
	Config          GameConfigurationGORM
	PreviewUrls     []string      `gorm:"serializer:json"`
	SearchIndexInfo IndexInfoGORM `gorm:"embedded;embeddedPrefix:search_index_"`
}

// TableName returns the table name for GameGORM
func (*GameGORM) TableName() string {
	return "games"
}

// GameConfigurationGORM is the GORM model for weewar.v1.GameConfiguration
type GameConfigurationGORM struct {
	Players       []GamePlayerGORM
	Teams         []GameTeamGORM
	IncomeConfigs IncomeConfigGORM `gorm:"embedded"`
	Settings      GameSettingsGORM
}

// Value implements driver.Valuer for GameConfigurationGORM
func (m GameConfigurationGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for GameConfigurationGORM
func (m *GameConfigurationGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan GameConfigurationGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// IncomeConfigGORM is the GORM model for weewar.v1.IncomeConfig
type IncomeConfigGORM struct {
	StartingCoins     int32
	GameIncome        int32
	LandbaseIncome    int32
	NavalbaseIncome   int32
	AirportbaseIncome int32
	MissilesiloIncome int32
	MinesIncome       int32
}

// GamePlayerGORM is the GORM model for weewar.v1.GamePlayer
type GamePlayerGORM struct {
	PlayerId      int32
	PlayerType    string
	Color         string
	TeamId        int32
	Name          string
	IsActive      bool
	StartingCoins int32
}

// Value implements driver.Valuer for GamePlayerGORM
func (m GamePlayerGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for GamePlayerGORM
func (m *GamePlayerGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan GamePlayerGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// GameTeamGORM is the GORM model for weewar.v1.GameTeam
type GameTeamGORM struct {
	TeamId   int32
	Name     string
	Color    string
	IsActive bool
}

// Value implements driver.Valuer for GameTeamGORM
func (m GameTeamGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for GameTeamGORM
func (m *GameTeamGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan GameTeamGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// GameSettingsGORM is the GORM model for weewar.v1.GameSettings
type GameSettingsGORM struct {
	AllowedUnits  []int32 `gorm:"serializer:json"`
	TurnTimeLimit int32
	TeamMode      string
	MaxTurns      int32
}

// PlayerStateGORM is the GORM model for weewar.v1.PlayerState
type PlayerStateGORM struct {
	Coins    int32
	IsActive bool
}

// Value implements driver.Valuer for PlayerStateGORM
func (m PlayerStateGORM) Value() (driver.Value, error) {
	return json.Marshal(m)
}

// Scan implements sql.Scanner for PlayerStateGORM
func (m *PlayerStateGORM) Scan(value interface{}) error {
	if value == nil {
		return nil
	}

	var bytes []byte
	switch v := value.(type) {
	case []byte:
		bytes = v
	case string:
		bytes = []byte(v)
	default:
		return fmt.Errorf("failed to scan PlayerStateGORM: unsupported type %T", value)
	}

	return json.Unmarshal(bytes, m)
}

// GameWorldDataGORM is the GORM model for weewar.v1.WorldData
type GameWorldDataGORM struct {
	TilesMap            map[string]TileGORM `gorm:"serializer:json"`
	UnitsMap            map[string]UnitGORM `gorm:"serializer:json"`
	ScreenshotIndexInfo IndexInfoGORM       `gorm:"embedded;embeddedPrefix:screenshot_index_"`
	ContentHash         string
	Version             int64
	Crossings           map[string]CrossingGORM `gorm:"serializer:json"`
}

// GameStateGORM is the GORM model for weewar.v1.GameState
type GameStateGORM struct {
	UpdatedAt          time.Time
	GameId             string `gorm:"primaryKey"`
	TurnCounter        int32
	CurrentPlayer      int32
	WorldData          GameWorldDataGORM `gorm:"embedded;embeddedPrefix:world_data_"`
	StateHash          string
	Version            int64
	Status             models.GameStatus
	Finished           bool
	WinningPlayer      int32
	WinningTeam        int32
	CurrentGroupNumber int64
	PlayerStates       map[int32]PlayerStateGORM `gorm:"serializer:json"`
}

// TableName returns the table name for GameStateGORM
func (*GameStateGORM) TableName() string {
	return "game_state"
}

// GameMoveHistoryGORM is the GORM model for weewar.v1.GameMoveHistory
type GameMoveHistoryGORM struct {
	GameId string
	Groups []GameMoveGroupGORM
}

// GameMoveGroupGORM is the GORM model for weewar.v1.GameMoveGroup
type GameMoveGroupGORM struct {
	StartedAt   time.Time
	EndedAt     time.Time
	GroupNumber int64
	Moves       []GameMoveGORM
}

// GameMoveGORM is the GORM model for weewar.v1.GameMove
type GameMoveGORM struct {
	GameId      string `gorm:"primaryKey"`
	Player      int32
	GroupNumber int64 `gorm:"primaryKey"`
	MoveNumber  int64 `gorm:"primaryKey"`
	Version     int64
	Timestamp   time.Time
	MoveType    []byte `gorm:"serializer:json"`
	SequenceNum int64
	IsPermanent bool
	Changes     [][]byte `gorm:"serializer:json"`
	Description string
}

// TableName returns the table name for GameMoveGORM
func (*GameMoveGORM) TableName() string {
	return "game_moves"
}
