{
  "swagger": "2.0",
  "info": {
    "title": "weewar/v1/models/models.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "GamesService"
    },
    {
      "name": "GameViewerPage"
    },
    {
      "name": "SingletonInitializerService"
    },
    {
      "name": "GameViewPresenter"
    },
    {
      "name": "UsersService"
    },
    {
      "name": "WorldsService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/games": {
      "get": {
        "summary": "ListGames returns all available games",
        "operationId": "GamesService_ListGames",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListGamesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.pageKey",
            "description": "*\nInstead of an offset an abstract  \"page\" key is provided that offers\nan opaque \"pointer\" into some offset in a result set.",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "pagination.pageOffset",
            "description": "*\nIf a pagekey is not supported we can also support a direct integer offset\nfor cases where it makes sense.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "description": "*\nNumber of results to return.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "ownerId",
            "description": "May be filter by owner id",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "GamesService"
        ]
      },
      "post": {
        "summary": "*\nCreate a new game",
        "operationId": "GamesService_CreateGame",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreateGameResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateGameRequest"
            }
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games/simulate_attack": {
      "post": {
        "summary": "*\nSimulates combat between two units to generate damage distributions\nThis is a stateless utility method that doesn't require game state",
        "operationId": "GamesService_SimulateAttack",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SimulateAttackResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SimulateAttackRequest"
            }
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games/{gameId}": {
      "patch": {
        "summary": "GetGame returns a specific game with metadata",
        "operationId": "GamesService_UpdateGame",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1UpdateGameResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "description": "Game id to modify",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "[^/]+"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "newGame": {
                  "$ref": "#/definitions/v1Game",
                  "title": "*\nGame being updated"
                },
                "newState": {
                  "$ref": "#/definitions/v1GameState",
                  "title": "New world state to save"
                },
                "newHistory": {
                  "$ref": "#/definitions/v1GameMoveHistory",
                  "title": "History to save"
                },
                "updateMask": {
                  "type": "string",
                  "description": "*\nMask of fields being updated in this Game to make partial changes."
                }
              },
              "title": "UpdateGameRequest"
            }
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games/{gameId}/moves": {
      "get": {
        "summary": "List the moves for a game",
        "operationId": "GamesService_ListMoves",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListMovesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "description": "*\nGame ID to add moves to",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "offset",
            "description": "Offset of the move to begin fetching from in reverse order from \"latest\".\n0 =\u003e start from now",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "lastN",
            "description": "*\nLimit to last N moves (from offset).  if \u003c= 0 return all moves",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "GamesService"
        ]
      },
      "post": {
        "operationId": "GamesService_ProcessMoves",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ProcessMovesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "description": "*\nGame ID to add moves to",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "moves": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "$ref": "#/definitions/v1GameMove"
                  },
                  "title": "*\nList of moves to add"
                },
                "expectedResponse": {
                  "$ref": "#/definitions/v1ProcessMovesResponse",
                  "description": "*\nThe player can submit a list of \"Expected\" changes when in local-first mode\nIf this is list provided the server will validate it - either via the coordinator\nor by itself.  If it is not provided then the server will validate it and return\nthe changes."
                }
              },
              "description": "*\nRequest to add moves to a game\nThe model is that a game in each \"tick\" can handle multiple moves (by possibly various players).\nIt is upto the move manager/processor in the game to ensure the \"transaction\" of moves is handled\natomically.\n\nFor example we may have 3 moves where first two units are moved to a common location\nand then they attack another unit.  Here If we treat it as a single unit attacking it\nwill have different outcomes than a \"combined\" attack."
            }
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games/{gameId}/options/{q}/{r}": {
      "get": {
        "operationId": "GamesService_GetOptionsAt",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetOptionsAtResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "q",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "r",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games/{gameId}/state": {
      "get": {
        "summary": "Gets the latest game state",
        "operationId": "GamesService_GetGameState",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetGameStateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "description": "*\nGame ID to add moves to",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games/{id}": {
      "get": {
        "summary": "GetGame returns a specific game with metadata",
        "operationId": "GamesService_GetGame",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetGameResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "version",
            "description": "Optional, defaults to default_version",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "GamesService"
        ]
      },
      "delete": {
        "summary": "*\nDelete a particular game",
        "operationId": "GamesService_DeleteGame",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteGameResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "*\nID of the game to be deleted.",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "[^/]+"
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/games:batchGet": {
      "get": {
        "summary": "*\nBatch get multiple games by ID",
        "operationId": "GamesService_GetGames",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetGamesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "ids",
            "description": "*\nIDs of the game to be fetched",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          }
        ],
        "tags": [
          "GamesService"
        ]
      }
    },
    "/v1/presenters/gameview/action:clicked:buildOption/{game_id}": {
      "post": {
        "summary": "*\nCalled when a build option is clicked in the BuildOptionsModal",
        "operationId": "GameViewPresenter_BuildOptionClicked",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1BuildOptionClickedResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "q": {
                  "type": "integer",
                  "format": "int32",
                  "title": "Q coordinate of the tile where unit is being built"
                },
                "r": {
                  "type": "integer",
                  "format": "int32",
                  "title": "R coordinate of the tile where unit is being built"
                },
                "unitType": {
                  "type": "integer",
                  "format": "int32",
                  "title": "Type of unit being built (e.g., \"soldier_basic\")"
                }
              },
              "title": "Called when a build option is clicked in BuildOptionsModal"
            }
          }
        ],
        "tags": [
          "GameViewPresenter"
        ]
      }
    },
    "/v1/presenters/gameview/action:clicked:endTurnButton/{game_id}": {
      "post": {
        "summary": "*\nCalled when user clicked the EndTurn button",
        "operationId": "GameViewPresenter_EndTurnButtonClicked",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1EndTurnButtonClickedResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "title": "Called when the end turn button was clicked"
            }
          }
        ],
        "tags": [
          "GameViewPresenter"
        ]
      }
    },
    "/v1/presenters/gameview/action:clicked:scene/{game_id}": {
      "post": {
        "summary": "*\nThis is called when the user clicks a tile on the Game Scene\nThe tile can have a unit or just be a plain tile.  It is upto the presenter to\nchange the various view states",
        "operationId": "GameViewPresenter_SceneClicked",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SceneClickedResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "q": {
                  "type": "integer",
                  "format": "int32"
                },
                "r": {
                  "type": "integer",
                  "format": "int32"
                },
                "layer": {
                  "type": "string"
                }
              },
              "title": "Called when the scene was clicked"
            }
          }
        ],
        "tags": [
          "GameViewPresenter"
        ]
      }
    },
    "/v1/presenters/gameview/action:clicked:turnOption/{game_id}": {
      "post": {
        "summary": "*\nCalled when a particular turn option is clicked in the TurnOptionsPanel\nNote how we have a strong coupling between what the page elements do and which\npresenter elements they call",
        "operationId": "GameViewPresenter_TurnOptionClicked",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TurnOptionClickedResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "gameId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "optionIndex": {
                  "type": "integer",
                  "format": "int32",
                  "title": "Index of the option in the options array"
                },
                "optionType": {
                  "type": "string",
                  "description": "Type of option: \"move\", \"attack\", \"endTurn\", etc."
                },
                "q": {
                  "type": "integer",
                  "format": "int32",
                  "title": "Target Q coordinate"
                },
                "r": {
                  "type": "integer",
                  "format": "int32",
                  "title": "Target R coordinate"
                }
              },
              "title": "Called when a turn option is clicked in TurnOptionsPanel"
            }
          }
        ],
        "tags": [
          "GameViewPresenter"
        ]
      }
    },
    "/v1/users": {
      "get": {
        "summary": "ListUsers returns all available users",
        "operationId": "UsersService_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.pageKey",
            "description": "*\nInstead of an offset an abstract  \"page\" key is provided that offers\nan opaque \"pointer\" into some offset in a result set.",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "pagination.pageOffset",
            "description": "*\nIf a pagekey is not supported we can also support a direct integer offset\nfor cases where it makes sense.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "description": "*\nNumber of results to return.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "ownerId",
            "description": "May be filter by owner id",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UsersService"
        ]
      },
      "post": {
        "summary": "*\nCreate a new user",
        "operationId": "UsersService_CreateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreateUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateUserRequest"
            }
          }
        ],
        "tags": [
          "UsersService"
        ]
      }
    },
    "/v1/users/{id}": {
      "get": {
        "summary": "GetUser returns a specific user with metadata",
        "operationId": "UsersService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "version",
            "description": "Optional, defaults to default_version",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UsersService"
        ]
      },
      "delete": {
        "summary": "*\nDelete a particular user",
        "operationId": "UsersService_DeleteUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "*\nID of the user to be deleted.",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "[^/]+"
          }
        ],
        "tags": [
          "UsersService"
        ]
      }
    },
    "/v1/users/{user.id}": {
      "patch": {
        "summary": "GetUser returns a specific user with metadata",
        "operationId": "UsersService_UpdateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1UpdateUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "user.id",
            "description": "Unique ID for the user",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "[^/]+"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "type": "object",
                  "properties": {
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "name": {
                      "type": "string",
                      "title": "Name if items have names"
                    },
                    "description": {
                      "type": "string",
                      "title": "Description if user has a description"
                    },
                    "tags": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "title": "Some tags"
                    },
                    "imageUrl": {
                      "type": "string",
                      "title": "A possible image url"
                    },
                    "difficulty": {
                      "type": "string",
                      "title": "Difficulty - example attribute"
                    }
                  },
                  "title": "*\nUser being updated"
                },
                "updateMask": {
                  "type": "string",
                  "description": "*\nMask of fields being updated in this User to make partial changes."
                }
              },
              "title": "UpdateUserRequest"
            }
          }
        ],
        "tags": [
          "UsersService"
        ]
      }
    },
    "/v1/users:batchGet": {
      "get": {
        "summary": "*\nBatch get multiple users by ID",
        "operationId": "UsersService_GetUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "ids",
            "description": "*\nIDs of the user to be fetched",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          }
        ],
        "tags": [
          "UsersService"
        ]
      }
    },
    "/v1/worlds": {
      "get": {
        "summary": "ListWorlds returns all available worlds",
        "operationId": "WorldsService_ListWorlds",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListWorldsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "pagination.pageKey",
            "description": "*\nInstead of an offset an abstract  \"page\" key is provided that offers\nan opaque \"pointer\" into some offset in a result set.",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "pagination.pageOffset",
            "description": "*\nIf a pagekey is not supported we can also support a direct integer offset\nfor cases where it makes sense.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pagination.pageSize",
            "description": "*\nNumber of results to return.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "ownerId",
            "description": "May be filter by owner id",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "WorldsService"
        ]
      },
      "post": {
        "summary": "*\nCreate a new world",
        "operationId": "WorldsService_CreateWorld",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreateWorldResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateWorldRequest"
            }
          }
        ],
        "tags": [
          "WorldsService"
        ]
      }
    },
    "/v1/worlds/{id}": {
      "get": {
        "summary": "GetWorld returns a specific world with metadata",
        "operationId": "WorldsService_GetWorld",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetWorldResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "version",
            "description": "Optional, defaults to default_version",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "WorldsService"
        ]
      },
      "delete": {
        "summary": "*\nDelete a particular world",
        "operationId": "WorldsService_DeleteWorld",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteWorldResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "*\nID of the world to be deleted.",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "[^/]+"
          }
        ],
        "tags": [
          "WorldsService"
        ]
      }
    },
    "/v1/worlds/{world.id}": {
      "patch": {
        "summary": "GetWorld returns a specific world with metadata",
        "operationId": "WorldsService_UpdateWorld",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1UpdateWorldResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "world.id",
            "description": "Unique ID for the world",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "[^/]+"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "world": {
                  "type": "object",
                  "properties": {
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "creatorId": {
                      "type": "string",
                      "title": "User that created the world"
                    },
                    "name": {
                      "type": "string",
                      "title": "Name if items have names"
                    },
                    "description": {
                      "type": "string",
                      "title": "Description if world has a description"
                    },
                    "tags": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "title": "Some tags"
                    },
                    "imageUrl": {
                      "type": "string",
                      "title": "A possible image url"
                    },
                    "difficulty": {
                      "type": "string",
                      "title": "Difficulty - example attribute"
                    },
                    "worldData": {
                      "$ref": "#/definitions/v1WorldData",
                      "title": "The actual world contents/data"
                    },
                    "previewUrls": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "title": "URL to screenshot/preview image (defaults to /worlds/{id}/screenshots/{screenshotName})\nCan be overridden to point to CDN or external hosting"
                    }
                  },
                  "title": "*\nWorld being updated"
                },
                "worldData": {
                  "$ref": "#/definitions/v1WorldData"
                },
                "clearWorld": {
                  "type": "boolean"
                },
                "updateMask": {
                  "type": "string",
                  "description": "*\nMask of fields being updated in this World to make partial changes."
                }
              },
              "title": "UpdateWorldRequest"
            }
          }
        ],
        "tags": [
          "WorldsService"
        ]
      }
    },
    "/v1/worlds:batchGet": {
      "get": {
        "summary": "*\nBatch get multiple worlds by ID",
        "operationId": "WorldsService_GetWorlds",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetWorldsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "ids",
            "description": "*\nIDs of the world to be fetched",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          }
        ],
        "tags": [
          "WorldsService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AllPaths": {
      "type": "object",
      "properties": {
        "sourceQ": {
          "type": "integer",
          "format": "int32",
          "title": "Starting coordinate for all paths"
        },
        "sourceR": {
          "type": "integer",
          "format": "int32"
        },
        "edges": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1PathEdge"
          },
          "title": "Map of edges: key is \"toQ,toR\" for quick parent lookup\nEach edge represents the optimal way to reach 'to' from its parent"
        }
      },
      "title": "Compact representation of all reachable paths from a source"
    },
    "v1AttackRecord": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32",
          "title": "Attacker's Q coordinate"
        },
        "r": {
          "type": "integer",
          "format": "int32",
          "title": "Attacker's R coordinate"
        },
        "isRanged": {
          "type": "boolean",
          "title": "Whether attacker is ranged 2+ tiles away"
        },
        "turnNumber": {
          "type": "integer",
          "format": "int32",
          "title": "Which turn this attack occured"
        }
      }
    },
    "v1AttackUnitAction": {
      "type": "object",
      "properties": {
        "attackerQ": {
          "type": "integer",
          "format": "int32"
        },
        "attackerR": {
          "type": "integer",
          "format": "int32"
        },
        "defenderQ": {
          "type": "integer",
          "format": "int32"
        },
        "defenderR": {
          "type": "integer",
          "format": "int32"
        },
        "targetUnitType": {
          "type": "integer",
          "format": "int32",
          "title": "Optional fields for presenting during \"options\" and debugging"
        },
        "targetUnitHealth": {
          "type": "integer",
          "format": "int32"
        },
        "canAttack": {
          "type": "boolean"
        },
        "damageEstimate": {
          "type": "integer",
          "format": "int32",
          "title": "Estimated damage this attack would deal"
        }
      },
      "title": "*\nAttack with one unit against another"
    },
    "v1BuildOptionClickedResponse": {
      "type": "object",
      "title": "Response of a build option click"
    },
    "v1BuildUnitAction": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        },
        "unitType": {
          "type": "integer",
          "format": "int32"
        },
        "cost": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "*\nAn action to build a unit (at a city tile)"
    },
    "v1CaptureBuildingAction": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        },
        "tileType": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "*\nA move where a unit can capture a building"
    },
    "v1ClearHighlightsResponse": {
      "type": "object"
    },
    "v1ClearPathsResponse": {
      "type": "object"
    },
    "v1CoinsChangedChange": {
      "type": "object",
      "properties": {
        "playerId": {
          "type": "integer",
          "format": "int32",
          "title": "Which player's coins changed"
        },
        "previousCoins": {
          "type": "integer",
          "format": "int32",
          "title": "Previous coin balance"
        },
        "newCoins": {
          "type": "integer",
          "format": "int32",
          "title": "New coin balance"
        },
        "reason": {
          "type": "string",
          "description": "Reason for change: \"build\", \"income\", \"repair\", etc."
        }
      },
      "title": "*\nA player's coin balance changed"
    },
    "v1CreateGameRequest": {
      "type": "object",
      "properties": {
        "game": {
          "$ref": "#/definitions/v1Game",
          "title": "*\nGame being updated"
        }
      },
      "title": "*\nGame creation request object"
    },
    "v1CreateGameResponse": {
      "type": "object",
      "properties": {
        "game": {
          "$ref": "#/definitions/v1Game",
          "title": "*\nGame being created"
        },
        "gameState": {
          "$ref": "#/definitions/v1GameState",
          "title": "The starting game state"
        },
        "fieldErrors": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "*\nError specific to a field if there are any errors."
        }
      },
      "description": "*\nResponse of an game creation."
    },
    "v1CreateUserRequest": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1User",
          "title": "*\nUser being updated"
        }
      },
      "title": "*\nUser creation request object"
    },
    "v1CreateUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1User",
          "title": "*\nUser being created"
        },
        "fieldErrors": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "*\nError specific to a field if there are any errors."
        }
      },
      "description": "*\nResponse of an user creation."
    },
    "v1CreateWorldRequest": {
      "type": "object",
      "properties": {
        "world": {
          "$ref": "#/definitions/v1World",
          "title": "*\nWorld being updated"
        },
        "worldData": {
          "$ref": "#/definitions/v1WorldData"
        }
      },
      "title": "*\nWorld creation request object"
    },
    "v1CreateWorldResponse": {
      "type": "object",
      "properties": {
        "world": {
          "$ref": "#/definitions/v1World",
          "title": "*\nWorld being created"
        },
        "worldData": {
          "$ref": "#/definitions/v1WorldData"
        },
        "fieldErrors": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "*\nError specific to a field if there are any errors."
        }
      },
      "description": "*\nResponse of an world creation."
    },
    "v1DeleteGameResponse": {
      "type": "object",
      "title": "*\nGame deletion response"
    },
    "v1DeleteUserResponse": {
      "type": "object",
      "title": "*\nUser deletion response"
    },
    "v1DeleteWorldResponse": {
      "type": "object",
      "title": "*\nWorld deletion response"
    },
    "v1EndTurnAction": {
      "type": "object",
      "description": "No additional fields needed",
      "title": "*\nEnd current player's turn"
    },
    "v1EndTurnButtonClickedResponse": {
      "type": "object",
      "properties": {
        "gameId": {
          "type": "string"
        }
      },
      "title": "Response of a turn option click"
    },
    "v1Game": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "id": {
          "type": "string",
          "title": "Unique ID for the game"
        },
        "creatorId": {
          "type": "string",
          "title": "User who started/created the game"
        },
        "worldId": {
          "type": "string",
          "title": "The world this game was created from"
        },
        "name": {
          "type": "string",
          "title": "Name if items have names"
        },
        "description": {
          "type": "string",
          "title": "Description if game has a description"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Some tags"
        },
        "imageUrl": {
          "type": "string",
          "title": "A possible image url"
        },
        "difficulty": {
          "type": "string",
          "title": "Difficulty - example attribute"
        },
        "config": {
          "$ref": "#/definitions/v1GameConfiguration",
          "title": "Game configuration"
        },
        "previewUrls": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "URL to screenshot/preview image (defaults to /games/{id}/screenshots/{screenshotName})\nCan be overridden to point to CDN or external hosting"
        }
      },
      "title": "Describes a game and its metadata"
    },
    "v1GameConfiguration": {
      "type": "object",
      "properties": {
        "players": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GamePlayer"
          },
          "title": "Player configuration"
        },
        "teams": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameTeam"
          },
          "title": "Team configuration"
        },
        "incomeConfigs": {
          "$ref": "#/definitions/v1IncomeConfig",
          "title": "Various kinds of per turn income configs"
        },
        "settings": {
          "$ref": "#/definitions/v1GameSettings",
          "title": "Game settings"
        }
      }
    },
    "v1GameMove": {
      "type": "object",
      "properties": {
        "player": {
          "type": "integer",
          "format": "int32",
          "title": "The player making the move"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "sequenceNum": {
          "type": "string",
          "format": "int64",
          "title": "A monotonically increasing and unique (within the game) sequence number for the move\nThis is generated by the server"
        },
        "moveUnit": {
          "$ref": "#/definitions/v1MoveUnitAction"
        },
        "attackUnit": {
          "$ref": "#/definitions/v1AttackUnitAction"
        },
        "endTurn": {
          "$ref": "#/definitions/v1EndTurnAction"
        },
        "buildUnit": {
          "$ref": "#/definitions/v1BuildUnitAction"
        }
      },
      "title": "*\nRepresents a single move which can be one of many actions in the game"
    },
    "v1GameMoveGroup": {
      "type": "object",
      "properties": {
        "startedAt": {
          "type": "string",
          "format": "date-time",
          "title": "When the moves happened (or were submitted)"
        },
        "endedAt": {
          "type": "string",
          "format": "date-time"
        },
        "moves": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameMove"
          },
          "title": "*\nList of moves to add -"
        },
        "moveResults": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameMoveResult"
          },
          "title": "Each game move result stores the result of the individual Move in the request.\nie move_results[i] = ResultOfProcessing(ProcessMoveRequest.moves[i])"
        }
      },
      "title": "A move group - we can allow X moves in one \"tick\""
    },
    "v1GameMoveHistory": {
      "type": "object",
      "properties": {
        "gameId": {
          "type": "string",
          "title": "Move history for the game"
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameMoveGroup"
          },
          "title": "Each entry in our history is a \"group\" of moves"
        }
      },
      "title": "Holds the game's move history (can be used as a replay log)"
    },
    "v1GameMoveResult": {
      "type": "object",
      "properties": {
        "isPermanent": {
          "type": "boolean",
          "description": "Whether the result is permenant and can be undone.\nJust moving a unit for example is not permanent, but attacking a unit\nwould be (ie a player cannot undo it)."
        },
        "sequenceNum": {
          "type": "string",
          "format": "int64",
          "title": "A monotonically increasing and unique (within the game) sequence number for the move"
        },
        "changes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1WorldChange"
          },
          "title": "A set of changes to the world as a result of making this move"
        }
      },
      "title": "*\nRepresents the result of executing a move"
    },
    "v1GameOption": {
      "type": "object",
      "properties": {
        "move": {
          "$ref": "#/definitions/v1MoveUnitAction"
        },
        "attack": {
          "$ref": "#/definitions/v1AttackUnitAction"
        },
        "build": {
          "$ref": "#/definitions/v1BuildUnitAction"
        },
        "capture": {
          "$ref": "#/definitions/v1CaptureBuildingAction"
        },
        "endTurn": {
          "$ref": "#/definitions/v1EndTurnAction"
        }
      },
      "title": "*\nA single game option available at a position"
    },
    "v1GamePlayer": {
      "type": "object",
      "properties": {
        "playerId": {
          "type": "integer",
          "format": "int32",
          "title": "Player ID (1-based)"
        },
        "playerType": {
          "type": "string",
          "description": "\"human\", \"ai\", \"open\"",
          "title": "Player type"
        },
        "color": {
          "type": "string",
          "title": "Player color"
        },
        "teamId": {
          "type": "integer",
          "format": "int32",
          "title": "Team ID (0 = no team, 1+ = team number)"
        },
        "name": {
          "type": "string",
          "title": "Nickname for the player in this game"
        },
        "isActive": {
          "type": "boolean",
          "title": "Whether play is still in the game - can this just be inferred?"
        },
        "startingCoins": {
          "type": "integer",
          "format": "int32",
          "title": "How many coins the player started off with"
        },
        "coins": {
          "type": "integer",
          "format": "int32",
          "title": "Player's current money/coins balance for building units"
        }
      }
    },
    "v1GameSettings": {
      "type": "object",
      "properties": {
        "allowedUnits": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int32"
          },
          "title": "List of allowed unit type IDs"
        },
        "turnTimeLimit": {
          "type": "integer",
          "format": "int32",
          "title": "Turn time limit in seconds (0 = no limit)"
        },
        "teamMode": {
          "type": "string",
          "description": "\"ffa\" or \"teams\"",
          "title": "Team mode"
        },
        "maxTurns": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum number of turns (0 = unlimited)"
        }
      }
    },
    "v1GameState": {
      "type": "object",
      "properties": {
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "gameId": {
          "type": "string",
          "title": "ID of the game whos state is being tracked"
        },
        "turnCounter": {
          "type": "integer",
          "format": "int32"
        },
        "currentPlayer": {
          "type": "integer",
          "format": "int32"
        },
        "worldData": {
          "$ref": "#/definitions/v1WorldData",
          "title": "Current world state"
        },
        "stateHash": {
          "type": "string",
          "title": "Current state hash for validation"
        },
        "version": {
          "type": "string",
          "format": "int64",
          "title": "Version number for optimistic locking"
        },
        "status": {
          "$ref": "#/definitions/v1GameStatus"
        },
        "finished": {
          "type": "boolean",
          "title": "Only set after a win has been possible"
        },
        "winningPlayer": {
          "type": "integer",
          "format": "int32"
        },
        "winningTeam": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Holds the game's Active/Current state (eg world state)"
    },
    "v1GameStatus": {
      "type": "string",
      "enum": [
        "GAME_STATUS_UNSPECIFIED",
        "GAME_STATUS_PLAYING",
        "GAME_STATUS_PAUSED",
        "GAME_STATUS_ENDED"
      ],
      "default": "GAME_STATUS_UNSPECIFIED",
      "title": "/////// Game related models"
    },
    "v1GameTeam": {
      "type": "object",
      "properties": {
        "teamId": {
          "type": "integer",
          "format": "int32",
          "title": "ID of the team within the game (unique to the game)"
        },
        "name": {
          "type": "string",
          "title": "Name of the team - in a game"
        },
        "color": {
          "type": "string",
          "title": "Just a color for this team"
        },
        "isActive": {
          "type": "boolean",
          "title": "Whether team has active players - can also be inferred"
        }
      }
    },
    "v1GetGameResponse": {
      "type": "object",
      "properties": {
        "game": {
          "$ref": "#/definitions/v1Game"
        },
        "state": {
          "$ref": "#/definitions/v1GameState"
        },
        "history": {
          "$ref": "#/definitions/v1GameMoveHistory"
        }
      }
    },
    "v1GetGameStateResponse": {
      "type": "object",
      "properties": {
        "state": {
          "$ref": "#/definitions/v1GameState"
        }
      },
      "title": "*\nResponse holding latest game state"
    },
    "v1GetGamesResponse": {
      "type": "object",
      "properties": {
        "games": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1Game"
          }
        }
      },
      "title": "*\nGame batch-get response"
    },
    "v1GetOptionsAtResponse": {
      "type": "object",
      "properties": {
        "options": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameOption"
          }
        },
        "currentPlayer": {
          "type": "integer",
          "format": "int32",
          "title": "debug: current player in game"
        },
        "gameInitialized": {
          "type": "boolean",
          "title": "debug: whether game is properly initialized"
        },
        "allPaths": {
          "$ref": "#/definitions/v1AllPaths",
          "title": "A Path from source to dest along with cost on each tile for tracking"
        }
      },
      "title": "*\nResponse with all available options at a position"
    },
    "v1GetUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1User"
        }
      }
    },
    "v1GetUsersResponse": {
      "type": "object",
      "properties": {
        "users": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1User"
          }
        }
      },
      "title": "*\nUser batch-get response"
    },
    "v1GetWorldResponse": {
      "type": "object",
      "properties": {
        "world": {
          "$ref": "#/definitions/v1World"
        },
        "worldData": {
          "$ref": "#/definitions/v1WorldData"
        }
      }
    },
    "v1GetWorldsResponse": {
      "type": "object",
      "properties": {
        "worlds": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1World"
          }
        }
      },
      "title": "*\nWorld batch-get response"
    },
    "v1HexCoord": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Hex coordinate for paths"
    },
    "v1HighlightSpec": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        },
        "type": {
          "type": "string",
          "title": "\"selection\", \"movement\", \"attack\", \"build\", \"exhausted\""
        },
        "move": {
          "$ref": "#/definitions/v1MoveUnitAction"
        },
        "attack": {
          "$ref": "#/definitions/v1AttackUnitAction"
        },
        "build": {
          "$ref": "#/definitions/v1BuildUnitAction"
        },
        "capture": {
          "$ref": "#/definitions/v1CaptureBuildingAction"
        }
      },
      "title": "Specification for a single highlight"
    },
    "v1IncomeConfig": {
      "type": "object",
      "properties": {
        "landbaseIncome": {
          "type": "integer",
          "format": "int32"
        },
        "navalbaseIncome": {
          "type": "integer",
          "format": "int32"
        },
        "airportbaseIncome": {
          "type": "integer",
          "format": "int32"
        },
        "missilesiloIncome": {
          "type": "integer",
          "format": "int32"
        },
        "minesIncome": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1InitializeGameResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean"
        },
        "error": {
          "type": "string"
        },
        "currentPlayer": {
          "type": "integer",
          "format": "int32",
          "title": "Initial UI state information"
        },
        "turnCounter": {
          "type": "integer",
          "format": "int32"
        },
        "gameName": {
          "type": "string"
        }
      },
      "title": "Response of a turn option click"
    },
    "v1InitializeSingletonResponse": {
      "type": "object",
      "properties": {
        "response": {
          "$ref": "#/definitions/v1InitializeGameResponse"
        }
      },
      "title": "Response of a turn option click"
    },
    "v1ListGamesResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Game"
          }
        },
        "pagination": {
          "$ref": "#/definitions/v1PaginationResponse"
        }
      }
    },
    "v1ListMovesResponse": {
      "type": "object",
      "properties": {
        "hasMore": {
          "type": "boolean",
          "title": "Whether there are more moves before this"
        },
        "moveGroups": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameMoveGroup"
          }
        }
      },
      "description": "*\nResponse after adding moves to game."
    },
    "v1ListUsersResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1User"
          }
        },
        "pagination": {
          "$ref": "#/definitions/v1PaginationResponse"
        }
      }
    },
    "v1ListWorldsResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1World"
          }
        },
        "pagination": {
          "$ref": "#/definitions/v1PaginationResponse"
        }
      }
    },
    "v1LogMessageResponse": {
      "type": "object",
      "title": "Response from fetch"
    },
    "v1MoveUnitAction": {
      "type": "object",
      "properties": {
        "fromQ": {
          "type": "integer",
          "format": "int32"
        },
        "fromR": {
          "type": "integer",
          "format": "int32"
        },
        "toQ": {
          "type": "integer",
          "format": "int32"
        },
        "toR": {
          "type": "integer",
          "format": "int32"
        },
        "movementCost": {
          "type": "number",
          "format": "double",
          "title": "Optional fields that can be used for showing move options as well as debugging"
        },
        "reconstructedPath": {
          "$ref": "#/definitions/v1Path",
          "title": "Debug fields"
        }
      },
      "title": "*\nMove unit from one position to another"
    },
    "v1MoveUnitResponse": {
      "type": "object"
    },
    "v1Pagination": {
      "type": "object",
      "properties": {
        "pageKey": {
          "type": "string",
          "description": "*\nInstead of an offset an abstract  \"page\" key is provided that offers\nan opaque \"pointer\" into some offset in a result set."
        },
        "pageOffset": {
          "type": "integer",
          "format": "int32",
          "description": "*\nIf a pagekey is not supported we can also support a direct integer offset\nfor cases where it makes sense."
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "description": "*\nNumber of results to return."
        }
      }
    },
    "v1PaginationResponse": {
      "type": "object",
      "properties": {
        "nextPageKey": {
          "type": "string",
          "description": "*\nThe key/pointer string that subsequent List requests should pass to\ncontinue the pagination."
        },
        "nextPageOffset": {
          "type": "integer",
          "format": "int32",
          "title": "*\nAlso support an integer offset if possible"
        },
        "hasMore": {
          "type": "boolean",
          "description": "*\nWhether theere are more results."
        },
        "totalResults": {
          "type": "integer",
          "format": "int32",
          "description": "*\nTotal number of results."
        }
      }
    },
    "v1Path": {
      "type": "object",
      "properties": {
        "edges": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1PathEdge"
          },
          "title": "Edges in order from source to destination"
        },
        "directions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1PathDirection"
          },
          "title": "len(directions) = len(edges) - 1\nand directions[i] = direction from edge[i - 1] -\u003e edge[i]"
        },
        "totalCost": {
          "type": "number",
          "format": "double",
          "title": "Sum of all edge costs"
        }
      },
      "title": "Full path from source to destination (constructed on-demand from AllPaths)"
    },
    "v1PathDirection": {
      "type": "string",
      "enum": [
        "PATH_DIRECTION_UNSPECIFIED",
        "PATH_DIRECTION_LEFT",
        "PATH_DIRECTION_TOP_LEFT",
        "PATH_DIRECTION_TOP_RIGHT",
        "PATH_DIRECTION_RIGHT",
        "PATH_DIRECTION_BOTTOM_RIGHT",
        "PATH_DIRECTION_BOTTOM_LEFT"
      ],
      "default": "PATH_DIRECTION_UNSPECIFIED"
    },
    "v1PathEdge": {
      "type": "object",
      "properties": {
        "fromQ": {
          "type": "integer",
          "format": "int32",
          "title": "Parent coordinate Q"
        },
        "fromR": {
          "type": "integer",
          "format": "int32",
          "title": "Parent coordinate R"
        },
        "toQ": {
          "type": "integer",
          "format": "int32",
          "title": "Destination coordinate Q"
        },
        "toR": {
          "type": "integer",
          "format": "int32",
          "title": "Destination coordinate R"
        },
        "movementCost": {
          "type": "number",
          "format": "double",
          "title": "Cost to move from 'from' to 'to' (edge cost)"
        },
        "totalCost": {
          "type": "number",
          "format": "double",
          "title": "Total cumulative cost from source to 'to'"
        },
        "terrainType": {
          "type": "string",
          "title": "e.g., \"mountain\", \"plains\", \"forest\""
        },
        "explanation": {
          "type": "string",
          "title": "e.g., \"Mountain costs Soldier 4 movement points\""
        }
      },
      "title": "A single edge in a path with movement details"
    },
    "v1PlayerChangedChange": {
      "type": "object",
      "properties": {
        "previousPlayer": {
          "type": "integer",
          "format": "int32"
        },
        "newPlayer": {
          "type": "integer",
          "format": "int32"
        },
        "previousTurn": {
          "type": "integer",
          "format": "int32"
        },
        "newTurn": {
          "type": "integer",
          "format": "int32"
        },
        "resetUnits": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Unit"
          },
          "title": "Units that had their movement/health reset for the new turn"
        }
      },
      "title": "*\nActive player changed"
    },
    "v1ProcessMovesResponse": {
      "type": "object",
      "properties": {
        "moveResults": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1GameMoveResult"
          },
          "title": "*\nEach game move result stores the result of the individual Move in the request.\nie move_results[i] = ResultOfProcessing(ProcessMoveRequest.moves[i])"
        },
        "changes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1WorldChange"
          },
          "description": "It is not clear if this is needed.  For example concatenating all changes from all the move_results *may* suffice\nas long as the MoveProcessor is making sure that updates are atomic and snapshots the world state before \nstarting a snapshot (and not just a move)",
          "title": "*\nList of changes that resulted from the moves on the game state as a whole\nFor example 10 moves could have resulted in 2 unit creations and 4 city changes"
        }
      },
      "description": "*\nResponse after adding moves to game.\n\nReturns the response of the moves along with all the changes incurred as a result"
    },
    "v1RemoveTileAtResponse": {
      "type": "object"
    },
    "v1RemoveUnitAtResponse": {
      "type": "object"
    },
    "v1SceneClickedResponse": {
      "type": "object",
      "properties": {
        "gameId": {
          "type": "string"
        }
      },
      "title": "Response of a turn option click"
    },
    "v1SetAllowedPanelsResponse": {
      "type": "object"
    },
    "v1SetContentResponse": {
      "type": "object",
      "title": "Response from fetch"
    },
    "v1SetGameStateResponse": {
      "type": "object",
      "title": "Response from fetch"
    },
    "v1SetTileAtResponse": {
      "type": "object"
    },
    "v1SetUnitAtResponse": {
      "type": "object"
    },
    "v1ShowAttackEffectResponse": {
      "type": "object"
    },
    "v1ShowBuildOptionsResponse": {
      "type": "object"
    },
    "v1ShowCaptureEffectResponse": {
      "type": "object"
    },
    "v1ShowHealEffectResponse": {
      "type": "object"
    },
    "v1ShowHighlightsResponse": {
      "type": "object"
    },
    "v1ShowPathResponse": {
      "type": "object"
    },
    "v1SimulateAttackRequest": {
      "type": "object",
      "properties": {
        "attackerUnitType": {
          "type": "integer",
          "format": "int32"
        },
        "attackerTerrain": {
          "type": "integer",
          "format": "int32"
        },
        "attackerHealth": {
          "type": "integer",
          "format": "int32"
        },
        "defenderUnitType": {
          "type": "integer",
          "format": "int32"
        },
        "defenderTerrain": {
          "type": "integer",
          "format": "int32"
        },
        "defenderHealth": {
          "type": "integer",
          "format": "int32"
        },
        "woundBonus": {
          "type": "integer",
          "format": "int32"
        },
        "numSimulations": {
          "type": "integer",
          "format": "int32",
          "title": "Default: 1000"
        }
      },
      "title": "*\nRequest for simulating combat between two units"
    },
    "v1SimulateAttackResponse": {
      "type": "object",
      "properties": {
        "attackerDamageDistribution": {
          "type": "object",
          "additionalProperties": {
            "type": "integer",
            "format": "int32"
          },
          "title": "Damage distributions: damage_value -\u003e number_of_occurrences"
        },
        "defenderDamageDistribution": {
          "type": "object",
          "additionalProperties": {
            "type": "integer",
            "format": "int32"
          }
        },
        "attackerMeanDamage": {
          "type": "number",
          "format": "double",
          "title": "Statistical summary"
        },
        "defenderMeanDamage": {
          "type": "number",
          "format": "double"
        },
        "attackerKillProbability": {
          "type": "number",
          "format": "double"
        },
        "defenderKillProbability": {
          "type": "number",
          "format": "double"
        }
      },
      "title": "*\nResponse containing damage distribution statistics"
    },
    "v1SplashTarget": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        },
        "damage": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1Tile": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32",
          "title": "Q and R in Cubed coordinates"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        },
        "tileType": {
          "type": "integer",
          "format": "int32",
          "title": "Tile type"
        },
        "player": {
          "type": "integer",
          "format": "int32",
          "title": "Whether the tile itself belongs to a player"
        },
        "shortcut": {
          "type": "string",
          "title": "A short cut like A1 or S2 etc for quick access"
        },
        "lastActedTurn": {
          "type": "integer",
          "format": "int32",
          "description": "Which turn this unit was created/last acted on (ie movemade)",
          "title": "Keep track of turns when the move was last made and when a \"top up\" was last done on/for this tile.\nThis helps us not having to \"top up\" or \"reset\" the stats at the end\nof each turn.  Instead as the game turn is incremented we can do a \nlazy reset for any unit or tile where unit_or_tile.last_toppedup_turn \u003c game.curent_turn\nSo we just have to increment the game_turn and the unit is automaticaly flagged as\nneeding a top up of its health/balance/movement etc"
        },
        "lastToppedupTurn": {
          "type": "integer",
          "format": "int32",
          "title": "When the last top up happened"
        }
      }
    },
    "v1TurnOptionClickedResponse": {
      "type": "object",
      "properties": {
        "gameId": {
          "type": "string"
        }
      },
      "title": "Response of a turn option click"
    },
    "v1Unit": {
      "type": "object",
      "properties": {
        "q": {
          "type": "integer",
          "format": "int32",
          "title": "Q and R in Cubed coordinates"
        },
        "r": {
          "type": "integer",
          "format": "int32"
        },
        "player": {
          "type": "integer",
          "format": "int32"
        },
        "unitType": {
          "type": "integer",
          "format": "int32"
        },
        "shortcut": {
          "type": "string",
          "title": "A short cut like A1 or S2 etc for quick access"
        },
        "availableHealth": {
          "type": "integer",
          "format": "int32",
          "description": "Current health points",
          "title": "Runtime state fields"
        },
        "distanceLeft": {
          "type": "number",
          "format": "double",
          "title": "Movement points remaining this turn"
        },
        "lastActedTurn": {
          "type": "integer",
          "format": "int32",
          "description": "Which turn this unit was created/last acted on (ie movemade)",
          "title": "Keep track of turns when the move was last made and when a \"top up\" was last done on/for this tile.\nThis helps us not having to \"top up\" or \"reset\" the stats at the end\nof each turn.  Instead as the game turn is incremented we can do a \nlazy reset for any unit or tile where unit_or_tile.last_toppedup_turn \u003c game.curent_turn\nSo we just have to increment the game_turn and the unit is automaticaly flagged as\nneeding a top up of its health/balance/movement etc"
        },
        "lastToppedupTurn": {
          "type": "integer",
          "format": "int32",
          "title": "When the last top up happened"
        },
        "attacksReceivedThisTurn": {
          "type": "integer",
          "format": "int32",
          "description": "Total number of attacks received this turn",
          "title": "Details around wound bonus tracking for this turn"
        },
        "attackHistory": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AttackRecord"
          },
          "title": "Detailed attack history for wound bonus calculation"
        },
        "progressionStep": {
          "type": "integer",
          "format": "int32",
          "title": "Action progression tracking - index into UnitDefinition.action_order\nIndicates which step in the action sequence the unit is currently on\nReset to 0 at turn start via TopUpUnitIfNeeded()"
        },
        "chosenAlternative": {
          "type": "string",
          "title": "When current step has pipe-separated alternatives (e.g., \"attack|capture\"),\nthis tracks which alternative the user chose, preventing switching mid-step\nCleared when advancing to next step"
        }
      }
    },
    "v1UnitBuiltChange": {
      "type": "object",
      "properties": {
        "unit": {
          "$ref": "#/definitions/v1Unit",
          "title": "The newly created unit"
        },
        "tileQ": {
          "type": "integer",
          "format": "int32",
          "title": "Tile coordinates where unit was built"
        },
        "tileR": {
          "type": "integer",
          "format": "int32"
        },
        "coinsCost": {
          "type": "integer",
          "format": "int32",
          "title": "Cost in coins"
        },
        "playerCoins": {
          "type": "integer",
          "format": "int32",
          "title": "Player's remaining coins after build"
        }
      },
      "title": "*\nA new unit was built at a tile"
    },
    "v1UnitDamagedChange": {
      "type": "object",
      "properties": {
        "previousUnit": {
          "$ref": "#/definitions/v1Unit",
          "title": "Complete unit state before taking damage"
        },
        "updatedUnit": {
          "$ref": "#/definitions/v1Unit",
          "title": "Complete unit state after taking damage"
        }
      },
      "title": "*\nA unit took damage"
    },
    "v1UnitKilledChange": {
      "type": "object",
      "properties": {
        "previousUnit": {
          "$ref": "#/definitions/v1Unit",
          "title": "Complete unit state before being killed"
        }
      },
      "title": "*\nA unit was killed"
    },
    "v1UnitMovedChange": {
      "type": "object",
      "properties": {
        "previousUnit": {
          "$ref": "#/definitions/v1Unit",
          "title": "Complete unit state before the move"
        },
        "updatedUnit": {
          "$ref": "#/definitions/v1Unit",
          "title": "Complete unit state after the move (includes updated position, distanceLeft, etc.)"
        }
      },
      "title": "*\nA unit moved from one position to another"
    },
    "v1UpdateGameResponse": {
      "type": "object",
      "properties": {
        "game": {
          "$ref": "#/definitions/v1Game",
          "title": "*\nGame being updated"
        }
      },
      "description": "*\nThe request for (partially) updating an Game.",
      "title": "UpdateGameResponse"
    },
    "v1UpdateGameStatusResponse": {
      "type": "object"
    },
    "v1UpdateUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1User",
          "title": "*\nUser being updated"
        }
      },
      "description": "*\nThe request for (partially) updating an User.",
      "title": "UpdateUserResponse"
    },
    "v1UpdateWorldResponse": {
      "type": "object",
      "properties": {
        "world": {
          "$ref": "#/definitions/v1World",
          "title": "*\nWorld being updated"
        },
        "worldData": {
          "$ref": "#/definitions/v1WorldData"
        }
      },
      "description": "*\nThe request for (partially) updating an World.",
      "title": "UpdateWorldResponse"
    },
    "v1User": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "id": {
          "type": "string",
          "title": "Unique ID for the user"
        },
        "name": {
          "type": "string",
          "title": "Name if items have names"
        },
        "description": {
          "type": "string",
          "title": "Description if user has a description"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Some tags"
        },
        "imageUrl": {
          "type": "string",
          "title": "A possible image url"
        },
        "difficulty": {
          "type": "string",
          "title": "Difficulty - example attribute"
        }
      }
    },
    "v1World": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "id": {
          "type": "string",
          "title": "Unique ID for the world"
        },
        "creatorId": {
          "type": "string",
          "title": "User that created the world"
        },
        "name": {
          "type": "string",
          "title": "Name if items have names"
        },
        "description": {
          "type": "string",
          "title": "Description if world has a description"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Some tags"
        },
        "imageUrl": {
          "type": "string",
          "title": "A possible image url"
        },
        "difficulty": {
          "type": "string",
          "title": "Difficulty - example attribute"
        },
        "worldData": {
          "$ref": "#/definitions/v1WorldData",
          "title": "The actual world contents/data"
        },
        "previewUrls": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "URL to screenshot/preview image (defaults to /worlds/{id}/screenshots/{screenshotName})\nCan be overridden to point to CDN or external hosting"
        }
      }
    },
    "v1WorldChange": {
      "type": "object",
      "properties": {
        "unitMoved": {
          "$ref": "#/definitions/v1UnitMovedChange"
        },
        "unitDamaged": {
          "$ref": "#/definitions/v1UnitDamagedChange"
        },
        "unitKilled": {
          "$ref": "#/definitions/v1UnitKilledChange"
        },
        "playerChanged": {
          "$ref": "#/definitions/v1PlayerChangedChange"
        },
        "unitBuilt": {
          "$ref": "#/definitions/v1UnitBuiltChange"
        },
        "coinsChanged": {
          "$ref": "#/definitions/v1CoinsChangedChange"
        }
      },
      "title": "*\nRepresents a change to the game world"
    },
    "v1WorldData": {
      "type": "object",
      "properties": {
        "tiles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Tile"
          },
          "title": "JSON-fied tile data about what units and terrains are at each location"
        },
        "units": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Unit"
          },
          "title": "All units on the world and who they belong to"
        }
      }
    }
  }
}
