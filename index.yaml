# Google Cloud Datastore Composite Indexes for LilBattle
# Deploy with: gcloud datastore indexes create index.yaml --project=YOUR_PROJECT_ID
#
# Note: Single-property indexes are automatic in Datastore.
# Only composite indexes (2+ properties) need to be defined here.

indexes:

# Games filtered by world, sorted by update time
- kind: Game
  properties:
  - name: world_id
  - name: updated_at
    direction: desc

# Game moves lookup by game and group (for history loading)
- kind: GameMove
  properties:
  - name: game_id
  - name: group_number
  - name: move_number

# Game moves filtered by group range
- kind: GameMove
  properties:
  - name: game_id
  - name: group_number

# Index states that need indexing (for screenshot worker)
- kind: IndexState
  properties:
  - name: entity_type
  - name: needs_indexing
